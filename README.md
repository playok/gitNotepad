# Git Notepad

Git ë²„ì „ ê´€ë¦¬ê°€ í†µí•©ëœ ì›¹ ê¸°ë°˜ ë…¸íŠ¸ ì• í”Œë¦¬ì¼€ì´ì…˜

## ì£¼ìš” ê¸°ëŠ¥

- **ë‹¤ì¤‘ ë¬¸ì„œ í˜•ì‹ ì§€ì›**: Markdown, AsciiDoc, TXT
- **CodeMirror ì—ë””í„°**: ë¬¸ë²• ê°•ì¡°, ì¤„ ë²ˆí˜¸, ìë™ ì™„ì„±
- **ì‹¤ì‹œê°„ ë¯¸ë¦¬ë³´ê¸°**: Markdown/AsciiDoc ì‹¤ì‹œê°„ ë Œë”ë§
- **Git ë²„ì „ ê´€ë¦¬**: ëª¨ë“  ë³€ê²½ì‚¬í•­ ìë™ ì»¤ë°‹
- **ì‚¬ìš©ì ì¸ì¦**: SQLite ê¸°ë°˜ ë‹¤ì¤‘ ì‚¬ìš©ì ì§€ì›
- **ë¹„ë°€ë²ˆí˜¸ ë³´í˜¸**: ê°œë³„ ë…¸íŠ¸ ì•”í˜¸í™”
- **íŒŒì¼ ì²¨ë¶€**: ì´ë¯¸ì§€ ë° íŒŒì¼ ì—…ë¡œë“œ
- **ë‹¤í¬/ë¼ì´íŠ¸ í…Œë§ˆ**: ì‹œìŠ¤í…œ í…Œë§ˆ ì—°ë™
- **ì˜¤í”„ë¼ì¸ ì§€ì›**: ëª¨ë“  ë¼ì´ë¸ŒëŸ¬ë¦¬ ë¡œì»¬ í¬í•¨
- **ë‹¨ì¶• URL**: ë…¸íŠ¸ ê³µìœ ìš© ì§§ì€ ë§í¬ ìƒì„± (ë§Œë£Œì¼ ì„¤ì • ê°€ëŠ¥)
- **í¬ë¡œìŠ¤ í”Œë«í¼**: CGO ì—†ì´ Linux/macOS/Windows ë¹Œë“œ
- **Nginx í”„ë¡ì‹œ**: ì„œë¸Œ ê²½ë¡œì—ì„œ ìš´ì˜ ê°€ëŠ¥

## ìŠ¤í¬ë¦°ìƒ·

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Git Notepad    [+] [?] [âš™] [â˜€]                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“„ ë…¸íŠ¸ 1   â”‚  # ì œëª©                    â”‚  # ì œëª©          â”‚
â”‚ ğŸ“„ ë…¸íŠ¸ 2   â”‚                            â”‚                  â”‚
â”‚ ğŸ“ í´ë”     â”‚  ë³¸ë¬¸ ë‚´ìš©...              â”‚  ë³¸ë¬¸ ë‚´ìš©...    â”‚
â”‚   ğŸ“„ í•˜ìœ„   â”‚                            â”‚                  â”‚
â”‚             â”‚  [Editor]                  â”‚  [Preview]       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ìš”êµ¬ ì‚¬í•­

- Go 1.21 ì´ìƒ (CGO ë¶ˆí•„ìš”)
- Git (ë²„ì „ ê´€ë¦¬ ê¸°ëŠ¥ ì‚¬ìš© ì‹œ)

## ì„¤ì¹˜ ë° ì‹¤í–‰

### ì†ŒìŠ¤ì—ì„œ ë¹Œë“œ

```bash
# ì €ì¥ì†Œ í´ë¡ 
git clone https://github.com/playok/gitNotepad.git
cd gitNotepad

# ì˜ì¡´ì„± ì„¤ì¹˜
make deps

# ë¹Œë“œ
make build

# ì‹¤í–‰
./gitnotepad
```

### ë°”ë¡œ ì‹¤í–‰

```bash
make run
```

ë¸Œë¼ìš°ì €ì—ì„œ `http://localhost:8080` ì ‘ì†

### CLI ì˜µì…˜

```bash
gitnotepad --help           # ë„ì›€ë§ ì¶œë ¥
gitnotepad --nginx          # nginx í”„ë¡ì‹œ ì„¤ì • ê°€ì´ë“œ ì¶œë ¥
gitnotepad -config my.yaml  # ì„¤ì • íŒŒì¼ ì§€ì •
```

## ì´ˆê¸° ì„¤ì •

### ê¸°ë³¸ ê´€ë¦¬ì ê³„ì •

ì²« ì‹¤í–‰ ì‹œ ê¸°ë³¸ ê´€ë¦¬ì ê³„ì •ì´ ìƒì„±ë©ë‹ˆë‹¤:

- **ì‚¬ìš©ìëª…**: `admin`
- **ë¹„ë°€ë²ˆí˜¸**: `admin123`

> âš ï¸ **ë³´ì•ˆ ì£¼ì˜**: ì²« ë¡œê·¸ì¸ í›„ ë°˜ë“œì‹œ ë¹„ë°€ë²ˆí˜¸ë¥¼ ë³€ê²½í•˜ì„¸ìš”!

### ì‚¬ìš©ì ê´€ë¦¬

ê´€ë¦¬ì ê³„ì •ìœ¼ë¡œ ë¡œê·¸ì¸ í›„:

1. ìš°ì¸¡ ìƒë‹¨ ì‚¬ìš©ì ì•„ì´ì½˜ í´ë¦­
2. "Manage Users" ì„ íƒ
3. ìƒˆ ì‚¬ìš©ì ì¶”ê°€ ë˜ëŠ” ê¸°ì¡´ ì‚¬ìš©ì ì‚­ì œ

## ì‚¬ìš©ë²•

### ë…¸íŠ¸ ìƒì„±

1. ì‚¬ì´ë“œë°” ìƒë‹¨ì˜ `+` ë²„íŠ¼ í´ë¦­
2. ë…¸íŠ¸ ì œëª© ì…ë ¥
3. ë¬¸ì„œ í˜•ì‹ ì„ íƒ (MD/ADOC/TXT)
4. ë‚´ìš© ì‘ì„±

### ë…¸íŠ¸ í˜•ì‹

| í˜•ì‹ | í™•ì¥ì | ì„¤ëª… |
|------|--------|------|
| Markdown | `.md` | GitHub Flavored Markdown ì§€ì› |
| AsciiDoc | `.adoc` | ê¸°ìˆ  ë¬¸ì„œ ì‘ì„±ì— ì í•© |
| Text | `.txt` | ì¼ë°˜ í…ìŠ¤íŠ¸ (ë¯¸ë¦¬ë³´ê¸° ì—†ìŒ) |

### í´ë” êµ¬ì¡°

ë…¸íŠ¸ ì œëª©ì— `/`ë¥¼ ì‚¬ìš©í•˜ì—¬ í´ë” êµ¬ì¡° ìƒì„±:

```
í”„ë¡œì íŠ¸/ì„¤ê³„ë¬¸ì„œ
í”„ë¡œì íŠ¸/íšŒì˜ë¡/2024-01
ê°œì¸/ì¼ê¸°
```

### ë¹„ê³µê°œ ë…¸íŠ¸

1. ì—ë””í„° ìƒë‹¨ì˜ ğŸ”’ ì•„ì´ì½˜ í´ë¦­
2. ë¹„ë°€ë²ˆí˜¸ ì„¤ì •
3. ë‹¤ìŒ ì ‘ê·¼ ì‹œ ë¹„ë°€ë²ˆí˜¸ ì…ë ¥ í•„ìš”

### íŒŒì¼ ì²¨ë¶€

**ì´ë¯¸ì§€ ë¶™ì—¬ë„£ê¸°:**
- í´ë¦½ë³´ë“œì˜ ì´ë¯¸ì§€ë¥¼ `Ctrl+V`ë¡œ ì§ì ‘ ë¶™ì—¬ë„£ê¸°

**íŒŒì¼ ì—…ë¡œë“œ:**
1. ì—ë””í„° ìƒë‹¨ì˜ ğŸ“ ë²„íŠ¼ í´ë¦­
2. íŒŒì¼ ì„ íƒ
3. ìë™ìœ¼ë¡œ ë§ˆí¬ë‹¤ìš´ ë§í¬ ì‚½ì…

### ë²„ì „ ê´€ë¦¬

**íˆìŠ¤í† ë¦¬ ë³´ê¸°:**
1. ì—ë””í„° ìƒë‹¨ì˜ ğŸ• ë²„íŠ¼ í´ë¦­
2. ì´ì „ ë²„ì „ ëª©ë¡ í™•ì¸
3. ì›í•˜ëŠ” ë²„ì „ ì„ íƒí•˜ì—¬ ë‚´ìš© í™•ì¸
4. "Restore" ë²„íŠ¼ìœ¼ë¡œ ë³µì›

### ë…¸íŠ¸ ê³µìœ 

**ê³µìœ  ë§í¬ ìƒì„±:**
1. ì—ë””í„° ìƒë‹¨ì˜ ê³µìœ  ë²„íŠ¼ í´ë¦­
2. ë§Œë£Œì¼ ì„¤ì • (Never ë˜ëŠ” ë‚ ì§œ ì„ íƒ)
3. ìƒì„±ëœ ë§í¬ ë³µì‚¬í•˜ì—¬ ê³µìœ 

**ë§Œë£Œ ì˜µì…˜:**
- `Never`: ë¬´ê¸°í•œ ìœ íš¨
- ë‚ ì§œ ì„ íƒ: í•´ë‹¹ ë‚ ì§œê¹Œì§€ ìœ íš¨

> ë§Œë£Œëœ ë§í¬ëŠ” ë§¤ì¼ ìì •ì— ìë™ ì •ë¦¬ë©ë‹ˆë‹¤ (ë…¸íŠ¸ëŠ” ìœ ì§€ë¨)

### JSON í¬ë§·íŒ…

1. JSON í…ìŠ¤íŠ¸ ì„ íƒ (ë˜ëŠ” ì „ì²´)
2. `Ctrl+Shift+F` ë˜ëŠ” `{ }` ë²„íŠ¼ í´ë¦­
3. ìë™ìœ¼ë¡œ ë“¤ì—¬ì“°ê¸° ì ìš©

## ì„¤ì •

### config.yaml

```yaml
server:
  port: 8080          # ì„œë²„ í¬íŠ¸
  host: "0.0.0.0"     # ë°”ì¸ë”© ì£¼ì†Œ
  base_path: ""       # ì„œë¸Œ ê²½ë¡œ (nginx í”„ë¡ì‹œìš©, ì˜ˆ: "/note")

storage:
  path: "./data"      # ë…¸íŠ¸ ì €ì¥ ê²½ë¡œ
  auto_init_git: true # Git ìë™ ì´ˆê¸°í™”

editor:
  default_type: "markdown"  # ê¸°ë³¸ ë¬¸ì„œ í˜•ì‹
  auto_save: true           # ìë™ ì €ì¥ (2ì´ˆ í›„)

auth:
  enabled: true                # ì¸ì¦ í™œì„±í™”
  session_timeout: 168         # ì„¸ì…˜ ë§Œë£Œ (ì‹œê°„)
  admin_username: "admin"      # ì´ˆê¸° ê´€ë¦¬ì ID
  admin_password: "admin123"   # ì´ˆê¸° ê´€ë¦¬ì ë¹„ë°€ë²ˆí˜¸

database:
  path: "./data/gitnotepad.db" # SQLite DB ê²½ë¡œ
```

### í™˜ê²½ë³„ ì„¤ì •

**ê°œë°œ í™˜ê²½:**
```yaml
server:
  port: 3000
auth:
  enabled: false  # ì¸ì¦ ë¹„í™œì„±í™”
```

**í”„ë¡œë•ì…˜ í™˜ê²½:**
```yaml
server:
  host: "127.0.0.1"  # localhostë§Œ í—ˆìš©
auth:
  enabled: true
  admin_password: "ê°•ë ¥í•œë¹„ë°€ë²ˆí˜¸"
```

### Nginx ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ

ì„œë¸Œ ê²½ë¡œ(`/note`)ì—ì„œ ìš´ì˜í•˜ë ¤ë©´:

**config.yaml:**
```yaml
server:
  port: 8080
  host: "127.0.0.1"
  base_path: "/note"  # ì„œë¸Œ ê²½ë¡œ ì„¤ì •
```

**nginx.conf:**
```nginx
location /note {
    proxy_pass http://127.0.0.1:8080;
    proxy_set_header Host $host;
    proxy_set_header X-Real-IP $remote_addr;
    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
    proxy_set_header X-Forwarded-Proto $scheme;
}
```

## í‚¤ë³´ë“œ ë‹¨ì¶•í‚¤

### ì „ì—­

| ë‹¨ì¶•í‚¤ | ê¸°ëŠ¥ |
|--------|------|
| `Ctrl+N` | ìƒˆ ë…¸íŠ¸ ìƒì„± |
| `Ctrl+S` | ì €ì¥ |
| `Ctrl+F` | ê²€ìƒ‰ì°½ í¬ì»¤ìŠ¤ |
| `Ctrl+B` | ì‚¬ì´ë“œë°” í† ê¸€ |
| `F1` ë˜ëŠ” `Ctrl+/` | ë„ì›€ë§ |
| `Esc` | ëª¨ë‹¬ ë‹«ê¸° |

### ì—ë””í„°

| ë‹¨ì¶•í‚¤ | ê¸°ëŠ¥ |
|--------|------|
| `Ctrl+E` | ì—ë””í„° ì „ì²´í™”ë©´ |
| `Ctrl+P` | ë¯¸ë¦¬ë³´ê¸° ì „ì²´í™”ë©´ |
| `Ctrl+Shift+F` | JSON í¬ë§·íŒ… |
| `Enter` | ë§ˆí¬ë‹¤ìš´ ë¦¬ìŠ¤íŠ¸ ìë™ ê³„ì† |

## Make ëª…ë ¹ì–´

| ëª…ë ¹ì–´ | ì„¤ëª… |
|--------|------|
| `make` | í˜„ì¬ OSìš© ë¹Œë“œ |
| `make build` | í˜„ì¬ OSìš© ë¹Œë“œ |
| `make run` | ë°”ë¡œ ì‹¤í–‰ |
| `make dev` | config.yamlë¡œ ì‹¤í–‰ |
| `make clean` | ë¹Œë“œ ê²°ê³¼ë¬¼ ì‚­ì œ |
| `make test` | í…ŒìŠ¤íŠ¸ ì‹¤í–‰ |
| `make deps` | ì˜ì¡´ì„± ì„¤ì¹˜ |
| `make tidy` | go.mod ì •ë¦¬ |
| `make linux` | Linux ë¹Œë“œ (amd64, arm64) |
| `make windows` | Windows ë¹Œë“œ |
| `make darwin` | macOS ë¹Œë“œ (amd64, arm64) |
| `make release` | ëª¨ë“  í”Œë«í¼ ë¹Œë“œ |

### Windows (make ì—†ì´)

Windowsì—ì„œëŠ” `build.cmd`ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

```cmd
build          :: í˜„ì¬ OSìš© ë¹Œë“œ
build run      :: ë°”ë¡œ ì‹¤í–‰
build dev      :: config.yamlë¡œ ì‹¤í–‰
build clean    :: ë¹Œë“œ ê²°ê³¼ë¬¼ ì‚­ì œ
build test     :: í…ŒìŠ¤íŠ¸ ì‹¤í–‰
build deps     :: ì˜ì¡´ì„± ì„¤ì¹˜
build tidy     :: go.mod ì •ë¦¬
build linux    :: Linux ë¹Œë“œ
build windows  :: Windows ë¹Œë“œ
build darwin   :: macOS ë¹Œë“œ
build release  :: ëª¨ë“  í”Œë«í¼ ë¹Œë“œ
build help     :: ë„ì›€ë§
```

## ë””ë ‰í† ë¦¬ êµ¬ì¡°

```
gitNotepad/
â”œâ”€â”€ main.go                 # ì§„ì…ì 
â”œâ”€â”€ config.yaml             # ì„¤ì • íŒŒì¼
â”œâ”€â”€ internal/
â”‚   â”œâ”€â”€ config/             # ì„¤ì • ë¡œë“œ
â”‚   â”œâ”€â”€ database/           # SQLite ì´ˆê¸°í™”
â”‚   â”œâ”€â”€ git/                # Git ì—°ë™
â”‚   â”œâ”€â”€ handler/            # HTTP í•¸ë“¤ëŸ¬
â”‚   â”œâ”€â”€ middleware/         # ì¸ì¦ ë¯¸ë“¤ì›¨ì–´
â”‚   â”œâ”€â”€ model/              # ë°ì´í„° ëª¨ë¸
â”‚   â”œâ”€â”€ repository/         # DB ë ˆí¬ì§€í† ë¦¬
â”‚   â””â”€â”€ server/             # ì„œë²„ ì„¤ì •
â”œâ”€â”€ web/
â”‚   â”œâ”€â”€ static/
â”‚   â”‚   â”œâ”€â”€ css/            # ìŠ¤íƒ€ì¼ì‹œíŠ¸
â”‚   â”‚   â”œâ”€â”€ js/             # JavaScript
â”‚   â”‚   â””â”€â”€ lib/            # ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ (ì˜¤í”„ë¼ì¸ìš©)
â”‚   â””â”€â”€ templates/          # HTML í…œí”Œë¦¿
â””â”€â”€ data/                   # ë…¸íŠ¸ ì €ì¥ì†Œ (gitignore)
    â”œâ”€â”€ gitnotepad.db       # SQLite DB
    â””â”€â”€ {username}/         # ì‚¬ìš©ìë³„ ë…¸íŠ¸
        â”œâ”€â”€ .git/
        â”œâ”€â”€ note1.md
        â””â”€â”€ images/
```

## API ì—”ë“œí¬ì¸íŠ¸

### ì¸ì¦

| ë©”ì„œë“œ | ê²½ë¡œ | ì„¤ëª… |
|--------|------|------|
| POST | `/api/auth/login` | ë¡œê·¸ì¸ |
| POST | `/api/auth/logout` | ë¡œê·¸ì•„ì›ƒ |
| GET | `/api/auth/me` | í˜„ì¬ ì‚¬ìš©ì ì •ë³´ |

### ë…¸íŠ¸

| ë©”ì„œë“œ | ê²½ë¡œ | ì„¤ëª… |
|--------|------|------|
| GET | `/api/notes` | ë…¸íŠ¸ ëª©ë¡ |
| GET | `/api/notes/:id` | ë…¸íŠ¸ ì¡°íšŒ |
| POST | `/api/notes` | ë…¸íŠ¸ ìƒì„± |
| PUT | `/api/notes/:id` | ë…¸íŠ¸ ìˆ˜ì • |
| DELETE | `/api/notes/:id` | ë…¸íŠ¸ ì‚­ì œ |

### íŒŒì¼

| ë©”ì„œë“œ | ê²½ë¡œ | ì„¤ëª… |
|--------|------|------|
| POST | `/api/images` | ì´ë¯¸ì§€ ì—…ë¡œë“œ |
| POST | `/api/files` | íŒŒì¼ ì—…ë¡œë“œ |
| GET | `/api/git/history/:id` | ë²„ì „ íˆìŠ¤í† ë¦¬ |
| GET | `/api/git/version/:id/:hash` | íŠ¹ì • ë²„ì „ ì¡°íšŒ |

### ê´€ë¦¬ì

| ë©”ì„œë“œ | ê²½ë¡œ | ì„¤ëª… |
|--------|------|------|
| GET | `/api/admin/users` | ì‚¬ìš©ì ëª©ë¡ |
| POST | `/api/admin/users` | ì‚¬ìš©ì ìƒì„± |
| DELETE | `/api/admin/users/:id` | ì‚¬ìš©ì ì‚­ì œ |

## ë¬¸ì œ í•´ê²°

### í¬íŠ¸ ì¶©ëŒ

```bash
# ë‹¤ë¥¸ í¬íŠ¸ë¡œ ì‹¤í–‰
./gitnotepad -port 3000
```

ë˜ëŠ” `config.yaml`ì—ì„œ í¬íŠ¸ ë³€ê²½

### Git ì˜¤ë¥˜

```bash
# Gitì´ ì„¤ì¹˜ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸
git --version

# data ë””ë ‰í† ë¦¬ ì´ˆê¸°í™”
rm -rf data/
./gitnotepad
```

### ë°ì´í„°ë² ì´ìŠ¤ ì´ˆê¸°í™”

```bash
# SQLite DB ì‚­ì œ í›„ ì¬ì‹œì‘
rm data/gitnotepad.db
./gitnotepad
```

## ë¼ì´ì„ ìŠ¤

MIT License

## ê¸°ì—¬

ë²„ê·¸ ë¦¬í¬íŠ¸ ë° ê¸°ëŠ¥ ì œì•ˆì€ [GitHub Issues](https://github.com/playok/gitNotepad/issues)ì—ì„œ ë°›ìŠµë‹ˆë‹¤.
